<!doctype html>
<html>
  <head>
  <meta charset="UTF-8">
  <title>at-form-like tests</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../web-component-tester/browser.js"></script>
  <link rel="import" href="../at-form-like.html">
  <link rel="import" href="../../iron-test-helpers/iron-test-helpers.html" />
  </head>
  <body>
    <!-- initial values fixture -->
    <test-fixture id="initial">
      <template>
        <at-form-like></at-form-like>
      </template>
    </test-fixture>

    <!-- allowDiselectFixtures -->
    <test-fixture id="allowDiselectIsUndefined">
      <template>
        <at-form-like allow-diselect="undefined"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIsNull">
      <template>
        <at-form-like allow-diselect="null"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIsTrue">
      <template>
        <at-form-like allow-diselect="true"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIsFalse">
      <template>
        <at-form-like allow-diselect="false"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIs-42">
      <template>
        <at-form-like allow-diselect="-42"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIs0">
      <template>
        <at-form-like allow-diselect="0"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIs42">
      <template>
        <at-form-like allow-diselect="42"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIsEmpty">
      <template>
        <at-form-like allow-diselect=""></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIsLorem_ipsum">
      <template>
        <at-form-like allow-diselect="lorem ipsum"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIs{}">
      <template>
        <at-form-like allow-diselect="{}"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIs[]">
      <template>
        <at-form-like allow-diselect="[]"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="allowDiselectIsFunction">
      <template>
        <at-form-like allow-diselect="function f() { return undefined; }"></at-form-like>
      </template>
    </test-fixture>

    <!-- value fixtures -->

    <test-fixture id="valueIsUndefined">
      <template>
        <at-form-like value="undefined"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIsNull">
      <template>
        <at-form-like value="null"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIsTrue">
      <template>
        <at-form-like value="true"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIsFalse">
      <template>
        <at-form-like value="false"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIs-42">
      <template>
        <at-form-like value="-42"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIs0">
      <template>
        <at-form-like value="0"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIs42">
      <template>
        <at-form-like value="42"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIsEmpty">
      <template>
        <at-form-like value=""></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIsLorem_ipsum">
      <template>
        <at-form-like value="lorem ipsum"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIs{}">
      <template>
        <at-form-like value="{}"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIs[]">
      <template>
        <at-form-like value="[]"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="valueIsFunction">
      <template>
        <at-form-like value="function f() { return undefined; }"></at-form-like>
      </template>
    </test-fixture>

    <!-- layout fixtures -->
    <test-fixture id="layoutIsUndefined">
      <template>
        <at-form-like layout="undefined"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIsNull">
      <template>
        <at-form-like layout="null"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIsTrue">
      <template>
        <at-form-like layout="true"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIsFalse">
      <template>
        <at-form-like layout="false"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIs-42">
      <template>
        <at-form-like layout="-42"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIs0">
      <template>
        <at-form-like layout="0"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIs42">
      <template>
        <at-form-like layout="42"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIsEmpty">
      <template>
        <at-form-like layout=""></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIsLorem_ipsum">
      <template>
        <at-form-like layout="lorem ipsum"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIs{}">
      <template>
        <at-form-like layout="{}"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIs[]">
      <template>
        <at-form-like layout="[]"></at-form-like>
      </template>
    </test-fixture>
    <test-fixture id="layoutIsFunction">
      <template>
        <at-form-like layout="function f() { return undefined; }"></at-form-like>
      </template>
    </test-fixture>

    <!-- propertyTests -->
    <test-fixture id="propertyTests">
      <template>
        <at-form-like></at-form-like>
      </template>
    </test-fixture>

  <script>

    suite('initial values tests', function() {
      test('initial values test', function() {
        var elt = fixture('initial');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
    });

    // 
    // allowDiselect fixture tests
    // 

    suite('allowDiselect invalid values tests', function() {
      test('allowDiselectIsUndefined', function() {
        var elt = fixture('allowDiselectIsUndefined');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIsNull', function() {
        var elt = fixture('allowDiselectIsNull');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIsTrue', function() {
        var elt = fixture('allowDiselectIsTrue');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIsFalse', function() {
        var elt = fixture('allowDiselectIsFalse');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIs-42', function() {
        var elt = fixture('allowDiselectIs-42');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIs0', function() {
        var elt = fixture('allowDiselectIs0');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIs42', function() {
        var elt = fixture('allowDiselectIs42');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIsEmpty', function() {
        var elt = fixture('allowDiselectIsEmpty');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIsLorem_ipsum', function() {
        var elt = fixture('allowDiselectIsLorem_ipsum');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIs{}', function() {
        var elt = fixture('allowDiselectIs{}');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIs[]', function() {
        var elt = fixture('allowDiselectIs[]');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
      test('allowDiselectIsFunction', function() {
        var elt = fixture('allowDiselectIsFunction');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, true);
      });
    });

    // 
    // layout fixture tests
    // 

    suite('layout invalid values tests', function() {
      test('layoutIsUndefined', function() {
        var elt = fixture('layoutIsUndefined');
        assert.equal(elt.layout, "undefined");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIsNull', function() {
        var elt = fixture('layoutIsNull');
        assert.equal(elt.layout, "null");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIsTrue', function() {
        var elt = fixture('layoutIsTrue');
        assert.equal(elt.layout, "true");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIsFalse', function() {
        var elt = fixture('layoutIsFalse');
        assert.equal(elt.layout, "false");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIs-42', function() {
        var elt = fixture('layoutIs-42');
        assert.equal(elt.layout, "-42");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIs0', function() {
        var elt = fixture('layoutIs0');
        assert.equal(elt.layout, "0");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIs42', function() {
        var elt = fixture('layoutIs42');
        assert.equal(elt.layout, "42");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIsEmpty', function() {
        var elt = fixture('layoutIsEmpty');
        assert.equal(elt.layout, "");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIsLorem_ipsum', function() {
        var elt = fixture('layoutIsLorem_ipsum');
        assert.equal(elt.layout, "lorem ipsum");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIs{}', function() {
        var elt = fixture('layoutIs{}');
        assert.equal(elt.layout, "{}");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIs[]', function() {
        var elt = fixture('layoutIs[]');
        assert.equal(elt.layout, "[]");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('layoutIsFunction', function() {
        var elt = fixture('layoutIsFunction');
        assert.equal(elt.layout, "function f() { return undefined; }");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
    });

    // 
    // value fixture tests
    // 

    suite('value invalid values tests', function() {
      test('valueIsUndefined', function() {
        var elt = fixture('valueIsUndefined');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIsNull', function() {
        var elt = fixture('valueIsNull');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIsTrue', function() {
        var elt = fixture('valueIsTrue');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIsFalse', function() {
        var elt = fixture('valueIsFalse');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIs-42', function() {
        var elt = fixture('valueIs-42');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, -42);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIs0', function() {
        var elt = fixture('valueIs0');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 0);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIs42', function() {
        var elt = fixture('valueIs42');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, 42);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIsEmpty', function() {
        var elt = fixture('valueIsEmpty');
        assert.equal(elt.layout, "vertical");
        assert.equal(elt.value, "");
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIsLorem_ipsum', function() {
        var elt = fixture('valueIsLorem_ipsum');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIs{}', function() {
        var elt = fixture('valueIs{}');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIs[]', function() {
        var elt = fixture('valueIs[]');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
      test('valueIsFunction', function() {
        var elt = fixture('valueIsFunction');
        assert.equal(elt.layout, "vertical");
        assert.isNaN(elt.value);
        assert.equal(elt.allowDiselect, false);
      });
    });

    suite("tests where properties are set as in code", function() { 

      test('allowDiselect invalid values test', function() {
        var elt = fixture('propertyTests');

        var invalidDiselectValues = [
          "undefined", undefined, "null", null, "true", "false", "-42", -42, "0", 0, "42", 42, "", "lorem ipsum", "{}", {}, "[]", [], "function f() { return undefined; }"
        ];
        var expectedDiselectValues = [
          "undefined", undefined, "null", null, "true", "false", "-42", -42, "0", 0, "42", 42, "", "lorem ipsum", "{}", {}, "[]", [], "function f() { return undefined; }"
        ];

        for (var k = 0; k < invalidDiselectValues.length; k++) {
          var actDiselectValue = invalidDiselectValues[k];
          var expDiselectValue = expectedDiselectValues[k];

          elt.allowDiselect = actDiselectValue;
          assert.deepEqual(elt.allowDiselect, expDiselectValue);
        }
      });

      test('values invalid values test', function() {
        var elt = fixture('propertyTests');

        var invalidValueValues = [
          "undefined", undefined, "null", null, "true", true, "false", false, "-42", "0", "42", "", "lorem ipsum", "{}", {}, "[]", [], "function f() { return undefined; }"
        ];
        var expectedValueValues = [
          "undefined", undefined, "null", null, "true", true, "false", false, "-42", "0", "42", "", "lorem ipsum", "{}", {}, "[]", [], "function f() { return undefined; }"
        ];

        for (var j = 0; j < invalidValueValues.length; j++) {
          var actValueValue = invalidValueValues[j];
          var expValueValue = expectedValueValues[j];
          
          elt.value = actValueValue;
          assert.deepEqual(elt.value, actValueValue);
        }

      });

      test('layout invalid values test', function() {
        var elt = fixture('propertyTests');

        var invalidLayoutValues = [
          "undefined", undefined, "null", null, "true", true, "false", false, "-42", -42, "0", 0, "42", 42, "", "lorem ipsum", "{}", {}, "[]", [], "function f() { return undefined; }"
        ];
        var expectedLayoutValues = [
          "undefined", undefined, "null", null, "true", true, "false", false, "-42", -42, "0", 0, "42", 42, "", "lorem ipsum", "{}", {}, "[]", [], "function f() { return undefined; }"
        ];

        for (var i = 0; i < invalidLayoutValues.length; i++) {
          var actLayoutValue = invalidLayoutValues[i];
          var expLayoutValue = expectedLayoutValues[i];

          elt.layout = actLayoutValue;
          assert.deepEqual(elt.layout, expLayoutValue);
        }
      });
    
    });
  </script>
  </body>
</html>
